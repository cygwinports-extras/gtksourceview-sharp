--- origsrc/gtksourceview-sharp-2.0-0.11/configure.in	2007-04-20 13:30:54.000000000 -0500
+++ src/gtksourceview-sharp-2.0-0.11/configure.in	2007-07-17 06:41:51.953125000 -0500
@@ -15,17 +15,25 @@
 PKG_CHECK_MODULES(MONO_DEPENDENCY, mint >= 1.0, has_mint=true, has_mint=false)
 
 if test "x$has_mono" = "xtrue"; then
-	if test `uname -s` = "Darwin"; then
-		AC_PATH_PROG(RUNTIME, mono, no)
-		AC_PATH_PROG(CSC, mcs, no)
-		LIB_PREFIX=
+	AC_PATH_PROG(RUNTIME, mono, no)
+	AC_PATH_PROG(CSC, mcs, no)
+	case `uname -s` in
+	  Darwin)
+		LIB_PREFIX=lib
+		LIB_SONAME=.
 		LIB_SUFFIX=.dylib
-	else
-		AC_PATH_PROG(RUNTIME, mono, no)
-		AC_PATH_PROG(CSC, mcs, no)
-		LIB_PREFIX=.so
+		;;
+	  CYGWIN*)
+		LIB_PREFIX=cyg
+		LIB_SONAME=-
+		LIB_SUFFIX=.dll
+		;;
+	  *)
+		LIB_PREFIX=lib
+		LIB_SONAME=.so.
 		LIB_SUFFIX=
-	fi
+		;;
+	esac
 else
 	if test "x$has_mint" = "xtrue"; then
 		AC_PATH_PROG(RUNTIME, mint, no)
@@ -61,6 +69,7 @@
 AC_SUBST(GACUTIL)
 AC_SUBST(GACUTIL_FLAGS)
 AC_SUBST(LIB_PREFIX)
+AC_SUBST(LIB_SONAME)
 AC_SUBST(LIB_SUFFIX)
 
 PKG_CHECK_MODULES(GTK_SHARP, gnome-sharp-2.0 >= 1.9.3)
--- origsrc/gtksourceview-sharp-2.0-0.11/gtksourceview/gtksourceview-sharp.dll.config.in	2007-04-20 13:30:54.000000000 -0500
+++ src/gtksourceview-sharp-2.0-0.11/gtksourceview/gtksourceview-sharp.dll.config.in	2007-07-17 06:41:51.953125000 -0500
@@ -1,5 +1,5 @@
 <configuration>
-  <dllmap dll="libglib-2.0-0.dll" target="libglib-2.0@LIB_PREFIX@.0@LIB_SUFFIX@"/>
-  <dllmap dll="libgobject-2.0-0.dll" target="libgobject-2.0@LIB_PREFIX@.0@LIB_SUFFIX@"/>
-  <dllmap dll="gtksourceview-1.0" target="libgtksourceview-1.0@LIB_PREFIX@.0@LIB_SUFFIX@"/>
+  <dllmap dll="libglib-2.0-0.dll" target="@LIB_PREFIX@glib-2.0@LIB_SONAME@0@LIB_SUFFIX@"/>
+  <dllmap dll="libgobject-2.0-0.dll" target="@LIB_PREFIX@gobject-2.0@LIB_SONAME@0@LIB_SUFFIX@"/>
+  <dllmap dll="gtksourceview-1.0" target="@LIB_PREFIX@gtksourceview-1.0@LIB_SONAME@0@LIB_SUFFIX@"/>
 </configuration>
